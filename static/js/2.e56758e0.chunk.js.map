{"version":3,"file":"static/js/2.e56758e0.chunk.js","mappings":"+LAcA,MAAMA,GAAO,EAAIC,KAAKC,KAAK,IAAM,EAC3BC,EAAO,EAAIH,EAeXI,EAZ4B,CAEhC,CAAE,EAAI,EAAI,GAAI,CAAE,EAAI,GAAI,GAAI,CAAE,GAAI,EAAI,GAAI,CAAE,GAAI,GAAI,GACpD,EAAE,EAAI,EAAI,GAAI,EAAE,EAAI,GAAI,GAAI,EAAE,GAAI,EAAI,GAAI,EAAE,GAAI,GAAI,GAEpD,CAAC,EAAID,EAAOH,GAAM,CAAC,EAAIG,GAAOH,GAAM,CAAC,GAAIG,EAAOH,GAAM,CAAC,GAAIG,GAAOH,GAElE,CAAEG,EAAOH,EAAK,GAAI,CAAEG,GAAOH,EAAK,GAAI,EAAEG,EAAOH,EAAK,GAAI,EAAEG,GAAOH,EAAK,GAEpE,CAAEA,EAAK,EAAIG,GAAO,CAAEH,EAAK,GAAIG,GAAO,EAAEH,EAAK,EAAIG,GAAO,EAAEH,EAAK,GAAIG,IAGvBE,IAC1CC,GAAK,CAfG,GAeFA,EAAE,GAfA,GAeQA,EAAE,GAfV,GAekBA,EAAE,KAIxBC,EAAuB,CAC3B,CAAC,EAAG,EAAG,GAAI,EAAG,IACd,CAAC,EAAG,GAAI,GAAI,EAAG,IACf,CAAC,EAAG,GAAI,GAAI,EAAG,GACf,CAAC,EAAG,GAAI,EAAG,GAAI,GACf,CAAC,EAAG,EAAG,EAAG,GAAI,IACd,CAAC,EAAG,GAAI,EAAG,GAAI,IACf,CAAC,EAAG,GAAI,EAAG,GAAI,IACf,CAAC,EAAG,GAAI,GAAI,EAAG,IACf,CAAC,EAAG,GAAI,EAAG,GAAI,IACf,CAAC,EAAG,GAAI,EAAG,GAAI,GACf,CAAC,EAAG,EAAG,GAAI,EAAG,IACd,CAAC,EAAG,GAAI,GAAI,EAAG,KAGXC,EAAgCD,EAASF,IAC7CI,GAAOA,EAAIJ,IAAIK,GAAKN,EAAUM,KAG1BC,EAAY,GASlB,MAAMC,EAAUJ,EAAMH,IAAIQ,GAP1B,SAAuBC,EAAuBC,EAAuBC,GACnE,MAAMC,EAAK,IAAIC,EAAAA,WAAiBJ,GAC1BK,EAAK,IAAID,EAAAA,WAAiBH,GAC1BK,EAAK,IAAIF,EAAAA,WAAiBF,GAChC,OAAOG,EAAGE,IAAIJ,GAAIK,MAAMF,EAAGC,IAAI,IAAIH,EAAAA,WAAiBJ,KAAKS,WAC3D,CAE+BC,CAAcX,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAErDY,EAAYjB,EAAMH,IAAIqB,IAC1B,MAAMC,EAAID,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAC1CwB,EAAIJ,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAC1CyB,EAAIL,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAChD,OAAO,IAAIY,EAAAA,QAAcS,EAAGG,EAAGC,KAI3BC,EAAc,MAClB,MAAMC,EAAO,IAAIC,MAAMvB,GAAWwB,KAAK,GACjCC,EAAS,IAAIC,IACnB,IAAIC,EAAO,EACX,IAAK,IAAI5B,EAAI,EAAGA,EAAIC,EAAWD,IAAK,CAClC,GAAI0B,EAAOG,IAAI7B,GAAI,SACnB,IAAI8B,GAAS,EAAGC,EAAUC,IAC1B,IAAK,IAAIC,EAAIjC,EAAI,EAAGiC,EAAIhC,EAAWgC,IAAK,CACtC,GAAIP,EAAOG,IAAII,GAAI,SACnB,MAAMC,EAAMnB,EAAUf,GAAGkC,IAAInB,EAAUkB,IACnCC,EAAMH,IAAWA,EAAUG,EAAKJ,EAAQG,EAC9C,CACAV,EAAKvB,GAAK4B,EACVL,EAAKO,GAAS,GAAKF,EACnBF,EAAOS,IAAInC,GACX0B,EAAOS,IAAIL,GACXF,GACF,CACA,OAAOL,CACR,EAnBmB,GAsBda,EAAyD,MAC7D,MAAMC,EAAM,IAAIV,IACVW,EAAoD,GAW1D,OAVAzC,EAAS0C,QAAQxC,IACf,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMI,EAAIL,EAAIC,GAAIK,EAAIN,GAAKC,EAAI,GAAK,GAC9BwC,EAAG,GAAAC,OAAMlD,KAAKmD,IAAItC,EAAGC,GAAE,KAAAoC,OAAIlD,KAAKoD,IAAIvC,EAAGC,IACxCgC,EAAIR,IAAIW,KACXH,EAAIF,IAAIK,GACRF,EAAMM,KAAK,CAAClD,EAAUU,GAAIV,EAAUW,KAExC,IAEKiC,CACR,EAd8D,GAkBzDO,EAA+BrB,MAAMsB,KAAK,CAAEC,OAAQ,GAAK,CAACC,EAAGhD,KACjE,MAAMiD,GAAS1D,KAAK2D,GAAK,EAAK,EAAI3D,KAAK2D,GAAKlD,EAAK,EACjD,MAAO,CAAC,GAHK,IAGUT,KAAK4D,IAAIF,GAAQ,GAH3B,IAG0C1D,KAAK6D,IAAIH,MAE5DI,EAA8B,CAAC,GAAK,IAGpCC,EAAiD,CAAC,EACxDxD,EAAMyC,QAAQ,CAACvB,EAAOuC,KACpB,MAAMC,EAAStD,EAAQqD,GACjBjD,EAAIS,EAAUwC,GACdE,EAAK,IAAIjD,EAAAA,QACbQ,EAAM,GAAG,GAAKV,EAAEW,EAAGD,EAAM,GAAG,GAAKV,EAAEc,EAAGJ,EAAM,GAAG,GAAKV,EAAEe,GACtDR,YACI6C,GAAQ,IAAIlD,EAAAA,SAAgBmD,aAAaF,EAAID,GAAQ3C,YACrD+C,GAAI,IAAIpD,EAAAA,SAAgBqD,UAAUH,EAAOD,EAAID,GAAQM,YAC3DR,EAAahC,EAAYiC,KAAO,IAAI/C,EAAAA,YAAmBuD,sBAAsBH,KAG/E,MAIMI,EAAS,IAAIxD,EAAAA,QAAc,EAAG,EAAG,GAEjCyD,EAAQ1E,KAAKmD,OAAOhD,EAAUC,IAAIC,GAAKA,EAAE,KACzCsE,EAAQ3E,KAAKoD,OAAOjD,EAAUC,IAAIC,GAAKA,EAAE,KAI/C,SAASuE,EAAWC,GAClB,MAAMC,EAAWD,EAAME,MAAM,kCAC7B,GAAID,EAAU,MAAO,EAAEA,EAAS,IAAKA,EAAS,IAAKA,EAAS,IAC5D,MAAME,EAAMH,EAAMI,QAAQ,IAAK,IACzBC,EAAIC,SAAwB,IAAfH,EAAIxB,OAAewB,EAAII,MAAM,IAAIhF,IAAIW,GAAKA,EAAIA,GAAGsE,KAAK,IAAML,EAAK,IACpF,MAAO,CAAEE,GAAK,GAAM,IAAMA,GAAK,EAAK,IAAS,IAAJA,EAC3C,CAUA,SAASI,EAAaC,GACpB,MAAMC,EATR,SAAmBX,GACjB,MAAOY,EAAGC,EAAG5E,GAAK8D,EAAWC,GAAOzE,IAAIW,IACtC,MAAMa,EAAIb,EAAI,IACd,OAAOa,GAAK,OAAUA,EAAI,MAAQ5B,KAAK2F,KAAK/D,EAAI,MAAS,MAAO,OAElE,MAAO,MAAS6D,EAAI,MAASC,EAAI,MAAS5E,CAC5C,CAGc8E,CAAUL,GACtB,OAAIC,EAAM,IAAaD,EAChBC,EAAM,GAAM,UAAY,SACjC,CAUA,SAASK,EAAYpE,EAA6BwC,GAChD,MAAM6B,EAAM,IAAI7E,EAAAA,eACV8E,EAAKtE,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAC3C2F,EAAKvE,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAC3C4F,EAAKxE,EAAME,OAAO,CAACC,EAAGvB,IAAMuB,EAAIvB,EAAE,GAAI,GAAK,EAG3C6F,EAAsB,GACtBC,EAAkB,GAClBC,EAAgB,GAEtB,IAAK,IAAI3F,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMiC,GAAKjC,EAAI,GAAK,EACpByF,EAAU7C,KAAK0C,EAAIC,EAAIC,KAAOxE,EAAMhB,MAAOgB,EAAMiB,IACjDyD,EAAM9C,KACJY,EAAOvC,EAAGuC,EAAOpC,EAAGoC,EAAOnC,EAC3BmC,EAAOvC,EAAGuC,EAAOpC,EAAGoC,EAAOnC,EAC3BmC,EAAOvC,EAAGuC,EAAOpC,EAAGoC,EAAOnC,GAE7BsE,EAAI/C,QAAQS,KAAcR,EAAS7C,MAAO6C,EAASZ,GACrD,CAKA,OAHAoD,EAAIO,aAAa,WAAY,IAAIpF,EAAAA,gBAAsB,IAAIqF,aAAaJ,GAAY,IACpFJ,EAAIO,aAAa,SAAU,IAAIpF,EAAAA,gBAAsB,IAAIqF,aAAaH,GAAQ,IAC9EL,EAAIO,aAAa,KAAM,IAAIpF,EAAAA,gBAAsB,IAAIqF,aAAaF,GAAM,IACjEN,CACT,CAEA,SAASS,EAAgBC,EAAeC,GACtC,MAAMC,EAAO,IACPC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQJ,EACfC,EAAOI,OAASL,EAChB,MAAMM,EAAML,EAAOM,WAAW,MAE9BD,EAAIE,UAAYT,EAChBO,EAAIG,SAAS,EAAG,EAAGT,EAAMA,GAEzBM,EAAII,OACJJ,EAAIK,UAAUX,IAAUA,KACxBM,EAAIM,OAAO,GAAI,GACf,MAAMC,EAAYjC,EAAamB,GAC/BO,EAAIE,UAAYK,EAChBP,EAAIQ,KAAI,QAAAtE,OAAWsD,EAAMhD,OAAS,EAAI,IAAM,IAAG,iBAC/CwD,EAAIS,UAAY,SAChBT,EAAIU,aAAe,SACnBV,EAAIW,SAASnB,EAAO,EAAG,GACvBQ,EAAIY,UAEJ,MAAMC,EAAM,IAAI5G,EAAAA,cAAoB0F,GAEpC,OADAkB,EAAIC,aAAc,EACXD,CACT,CAEA,SAASE,EAAiBlH,EAAuBC,EAAuBkH,EAAgBC,GACtF,MAAMjH,EAAK,IAAIC,EAAAA,WAAiBJ,GAC1BK,EAAK,IAAID,EAAAA,WAAiBH,GAC1BiG,EAAS/F,EAAGkH,WAAWhH,GACvB4E,EAAM,IAAI7E,EAAAA,iBAAuB+G,EAAQA,EAAQjB,EAAQ,EAAG,GAE5DoB,GAAMtH,EAAE,GAAK6D,IAAUC,EAAQD,GAC/B0D,GAAMtH,EAAE,GAAK4D,IAAUC,EAAQD,GAC/BwB,EAAYJ,EAAIuC,WAAWC,SAC3BC,EAAS,IAAIjC,aAA+B,EAAlBJ,EAAUsC,OAE1C,IAAK,IAAI/H,EAAI,EAAGA,EAAIyF,EAAUsC,MAAO/H,IAAK,CACxC,MAEMgI,EAAO,GAAM,KAAQN,GAAMC,EAAKD,KAF5BjC,EAAUwC,KAAKjI,GACNsG,EAAS,GAAKA,IAEjCwB,EAAW,EAAJ9H,GAASwH,EAAUxC,EAAIgD,EAC9BF,EAAW,EAAJ9H,EAAQ,GAAKwH,EAAUvC,EAAI+C,EAClCF,EAAW,EAAJ9H,EAAQ,GAAKwH,EAAUnH,EAAI2H,CACpC,CAGA,OADA3C,EAAIO,aAAa,QAAS,IAAIpF,EAAAA,gBAAsBsH,EAAQ,IACrDzC,CACT,CAae,SAAS6C,EAAeC,GAA6C,IAA5C,YAAEC,EAAW,SAAEC,EAAQ,QAAErC,GAAgBmC,EAC/E,MAAMG,GAAWC,EAAAA,EAAAA,QAAoB,MAC/BC,GAAcD,EAAAA,EAAAA,QAAOH,GACrBK,GAAcF,EAAAA,EAAAA,SAAO,GAErBG,GAAWH,EAAAA,EAAAA,SAAO,GAClBI,GAAYJ,EAAAA,EAAAA,QAAO,GACnBK,GAAWL,EAAAA,EAAAA,QAAO,IAAI/H,EAAAA,QAAc,EAAG,EAAG,GAAGK,aAC7CgI,GAAYN,EAAAA,EAAAA,QAAO,GACnBO,GAAeP,EAAAA,EAAAA,QAAO,GACtBQ,GAAaR,EAAAA,EAAAA,QAAO,IAAI/H,EAAAA,YACxBwI,GAAkBT,EAAAA,EAAAA,QAAO,IAAI/H,EAAAA,YAC7ByI,GAAcV,EAAAA,EAAAA,QAAO,GAErBW,GAAWX,EAAAA,EAAAA,SAAO,GAClBY,GAAaZ,EAAAA,EAAAA,QAAO,GAEpBa,GAAgBC,EAAAA,EAAAA,SAAQ,IAAM,IAAI7I,EAAAA,MAlH1C,SAAgB4D,EAAekF,GAC7B,MAAOtE,EAAGC,EAAG5E,GAAK8D,EAAWC,GACvBR,EAAKtD,GAAcf,KAAKgK,MAAMjJ,GAAK,EAAIgJ,IAC7C,MAAM,OAAN7G,OAAcmB,EAAEoB,GAAE,KAAAvC,OAAImB,EAAEqB,GAAE,KAAAxC,OAAImB,EAAEvD,GAAE,IACpC,CA8GsDmJ,CAAOxD,EAAS,KAAO,CAACA,IAEtEyD,GAAelB,EAAAA,EAAAA,QAA8B,IAAI/G,MAAMvB,GAAWwB,KAAK,OACvEiI,GAAcnB,EAAAA,EAAAA,QAAO,IAAI/H,EAAAA,SAEzBmJ,GAAWN,EAAAA,EAAAA,SAAQ,IACvBvJ,EAAMH,IAAI,CAACqB,EAAOuC,KAAE,CAClBqG,SAAUxE,EAAYpE,EAAOd,EAAQqD,IACrCsG,QAAS/D,EAAgBgE,OAAOxI,EAAYiC,IAAMyC,MAEpD,CAACA,IAGG+D,GAAQV,EAAAA,EAAAA,SAAQ,IACpBjH,EAAWzC,IAAIqK,IAAA,IAAE5J,EAAGC,GAAE2J,EAAA,OAAAC,EAAAA,EAAAA,GAAA,CACpB5E,IAAKiC,EAAiBlH,EAAGC,EAlKX,IAkK2B+I,IA3C/C,SAAuBhJ,EAAuBC,GAC5C,MAAME,EAAK,IAAIC,EAAAA,WAAiBJ,GAC1BK,EAAK,IAAID,EAAAA,WAAiBH,GAC1B6J,EAAM3J,EAAG4J,QAAQhI,IAAI1B,GAAI2J,eAAe,IACxCC,EAAM5J,EAAG0J,QAAQxJ,IAAIJ,GAAIM,YAE/B,MAAO,CAAEyJ,IAAKJ,EAAKK,MADN,IAAI/J,EAAAA,YAAmBgK,mBAAmB,IAAIhK,EAAAA,QAAc,EAAG,EAAG,GAAI6J,GAErF,CAqCSI,CAAcrK,EAAGC,MAEtB,CAAC+I,IAGGsB,GAAYrB,EAAAA,EAAAA,SAAQ,IAAM,IAAI7I,EAAAA,eAxKlB,IAwKoD,EAAG,GAAI,KAG7EmK,EAAAA,EAAAA,WAAU,KACR,GAAoB,IAAhBvC,EAAmB,OACvB,GAAIA,IAAgBI,EAAYoC,QAAS,OACzCpC,EAAYoC,QAAUxC,EAEtBK,EAAYmC,SAAU,EACtBlC,EAASkC,SAAU,EACnBjC,EAAUiC,QAAU,EAEpB,MAAMC,EAAKtL,KAAKuL,SAAW,IAAO,EAAI,EAChCC,EAAKxL,KAAKuL,SAAW,IAAO,EAAI,EAChCE,EAAKzL,KAAKuL,SAAW,IAAO,EAAI,EAEtClC,EAASgC,QACNvI,IACCwI,GAAM,GAAsB,GAAhBtL,KAAKuL,UACjBC,GAAM,GAAsB,GAAhBxL,KAAKuL,UACjBE,GAAM,GAAsB,GAAhBzL,KAAKuL,WAElBjK,YAEHgI,EAAU+B,QAAU,GAAqB,EAAhBrL,KAAKuL,SAE9BhC,EAAa8B,QAAUrL,KAAK0L,MAAM1L,KAAKuL,SAAW7K,GAAa,EAC/D8I,EAAW6B,QAAQM,KAAK5H,EAAawF,EAAa8B,WACjD,CAACxC,IA0EJ,OA5CA+C,EAAAA,EAAAA,GAAS,CAACnI,EAAGoI,KACX,IAAK9C,EAASsC,QAAS,OAIvB,GAhCgBS,MAChB,IAAK/C,EAASsC,QAAS,OAEvB,IAAIU,EAAQ,EACZ,GAAIpC,EAAS0B,SAAWzB,EAAWyB,QAAU,EAAG,CAC9C,MAAMW,EAAeC,YAAYC,MAAQ,IAAOtC,EAAWyB,QACrDc,EAAKnM,KAAKmD,IAAI6I,EA3MF,GA2MiC,GACnDD,EAAQ,EAAII,EACRA,GAAM,IAAGxC,EAAS0B,SAAU,GAEhC,MAAMe,EAAa,EAAI,IAAOpM,KAAK6D,IAAIsI,EAAKnM,KAAK2D,IACjDoF,EAASsC,QAAQ/D,MAAM+E,UAAUD,EACnC,CAEA,IAAK,IAAI3L,EAAI,EAAGA,EAAIC,EAAWD,IAAK,CAClC,MAAM6L,EAAOpC,EAAamB,QAAQ5K,GAClC,IAAK6L,EAAM,SACXnC,EAAYkB,QAAQM,KAAKhL,EAAQF,IAAI8L,gBAAgBxD,EAASsC,QAAQmB,YACtE,MAAM7J,EAAMwH,EAAYkB,QAAQ1I,IAAI8B,GACpC,IAAIgI,EAAa,IAAO,IAAOzM,KAAKoD,IAAI,EAAGT,GACvCoJ,EAAQ,IACVU,IAA2B,EAAMA,GAAcV,EAAQ,IAExDO,EAAKI,SAAqC7H,MAAMwH,UAAUI,EAC7D,GAMAX,IAEK3C,EAASkC,QAAS,OAEG,IAAtBjC,EAAUiC,UACZjC,EAAUiC,QAAUY,YAAYC,MAAQ,IACxCxC,EAAY2B,QAAU,GAGxB,MAAMsB,EAAUV,YAAYC,MAAQ,IAAO9C,EAAUiC,QAErD,GAAIsB,EA/Oc,IA+OW,CAC3B,MAAMC,EAAWD,EAhPD,IAiPVE,EAAQ7M,KAAK2F,IAAI,EAAIiH,EAAU,KACrC7D,EAASsC,QAAQyB,aAAazD,EAASgC,QAAS/B,EAAU+B,QAAUwB,EAAQhB,EAC9E,KAAO,CACuB,IAAxBnC,EAAY2B,UACd3B,EAAY2B,QAAUY,YAAYC,MAAQ,IAC1CzC,EAAgB4B,QAAQM,KAAK5C,EAASsC,QAAQmB,aAGhD,MAAMO,EAAgBd,YAAYC,MAAQ,IAAOxC,EAAY2B,QACvD2B,EAAIhN,KAAKmD,IAAI4J,EAzPD,GAyPkC,GAC9CE,EAAQ,EAAIjN,KAAK2F,IAAI,EAAIqH,EAAG,GAElCjE,EAASsC,QAAQmB,WAAWb,KAAKlC,EAAgB4B,SAAS6B,MAAM1D,EAAW6B,QAAS4B,GAEhFD,GAAK,IACP7D,EAASkC,SAAU,EACnBtC,EAASsC,QAAQmB,WAAWb,KAAKnC,EAAW6B,SAEvCnC,EAAYmC,UACfnC,EAAYmC,SAAU,EACtB1B,EAAS0B,SAAU,EACnBzB,EAAWyB,QAAUY,YAAYC,MAAQ,IACzCpD,EAASS,EAAa8B,UAG5B,KAIA8B,EAAAA,EAAAA,MAAA,SAAOC,IAAKrE,EAAUT,SAAU,CAAC,GAAI,IAAM,GAAG+E,SAAA,CAC3CjD,EAAShK,IAAI,CAACkN,EAAM7M,KACnB8M,EAAAA,EAAAA,KAAA,QAAcH,IAAKI,IAAQtD,EAAamB,QAAQ5K,GAAK+M,GAAOnD,SAAUiD,EAAKjD,SAASgD,UAClFE,EAAAA,EAAAA,KAAA,qBAAmBnN,IAAKkN,EAAKhD,WADpB7J,IAIZ+J,EAAMpK,IAAI,CAACqN,EAAMhN,KAChB8M,EAAAA,EAAAA,KAAA,QAAwBlD,SAAUoD,EAAK3H,IAAKwC,SAAUmF,EAAK1C,IAAKyB,WAAYiB,EAAKzC,KAAKqC,UACpFE,EAAAA,EAAAA,KAAA,qBAAmBG,cAAY,KAAG,QAAAxK,OADjBzC,KAIpBN,EAAUC,IAAI,CAACC,EAAGI,KACjB8M,EAAAA,EAAAA,KAAA,QAA0BlD,SAAUc,EAAW7C,SAAUjI,EAAEgN,UACzDE,EAAAA,EAAAA,KAAA,qBAAmB1I,MAAOgF,KAAiB,UAAA3G,OADxBzC,OAM7B,CC1Ze,SAASkN,EAAQ/E,GAAmE,IAAlE,YAAEC,EAAW,SAAEC,EAAQ,QAAE8E,EAAO,QAAEnH,EAAO,YAAEoH,GAAoBjF,EAC9F,OACEuE,EAAAA,EAAAA,MAACW,EAAAA,GAAM,CACLC,MAAI,EACJC,OAAQ,CAAE1F,SAAU,CAAC,EAAG,EAAG,KAAM2F,IAAK,IACtCC,GAAI,CAAEC,OAAO,EAAMC,WAAW,GAC9BC,MAAO,CAAEC,WAAY,cAAeC,OAAQ,WAC5CX,QAASA,EAAQP,SAAA,EAEjBE,EAAAA,EAAAA,KAAA,gBAAciB,UAAW,IAAM3J,MAAM,aACrC0I,EAAAA,EAAAA,KAAA,oBAAkBjF,SAAU,CAAC,EAAG,EAAG,GAAIkG,UAAW,IAAM3J,MAAM,aAC9D0I,EAAAA,EAAAA,KAAA,oBAAkBjF,SAAU,CAAC,EAAG,EAAG,GAAIkG,UAAW,IAAM3J,MAAM,aAC9D0I,EAAAA,EAAAA,KAAC5E,EAAe,CACdE,YAAaA,EACbC,SAAUA,EACVrC,QAASA,EACToH,YAAaA,MAIrB,C","sources":["components/DiceRoller/D12/DodecahedronDie.tsx","components/DiceRoller/D12/D12Scene.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface Props {\n  rollTrigger: number;\n  onResult: (result: number) => void;\n  primary: string;\n  primaryDark: string;\n}\n\n/* ── Geometry ──\n   Regular dodecahedron: 20 vertices, 12 pentagonal faces, 30 edges.\n*/\nconst PHI = (1 + Math.sqrt(5)) / 2;\nconst IPHI = 1 / PHI;\nconst S = 0.9; // scale\n\nconst RAW: THREE.Vector3Tuple[] = [\n  // 8 cube vertices\n  [ 1,  1,  1], [ 1,  1, -1], [ 1, -1,  1], [ 1, -1, -1],\n  [-1,  1,  1], [-1,  1, -1], [-1, -1,  1], [-1, -1, -1],\n  // rectangle in YZ plane\n  [0,  IPHI,  PHI], [0,  IPHI, -PHI], [0, -IPHI,  PHI], [0, -IPHI, -PHI],\n  // rectangle in XY plane\n  [ IPHI,  PHI, 0], [ IPHI, -PHI, 0], [-IPHI,  PHI, 0], [-IPHI, -PHI, 0],\n  // rectangle in XZ plane\n  [ PHI, 0,  IPHI], [ PHI, 0, -IPHI], [-PHI, 0,  IPHI], [-PHI, 0, -IPHI],\n];\n\nconst ALL_VERTS: THREE.Vector3Tuple[] = RAW.map(\n  v => [v[0] * S, v[1] * S, v[2] * S] as THREE.Vector3Tuple,\n);\n\n/* ── 12 pentagonal faces (CCW from outside) ── */\nconst FACE_IDX: number[][] = [\n  [0, 8, 10, 2, 16],\n  [0, 16, 17, 1, 12],\n  [0, 12, 14, 4, 8],\n  [1, 17, 3, 11, 9],\n  [1, 9, 5, 14, 12],\n  [2, 10, 6, 15, 13],\n  [2, 13, 3, 17, 16],\n  [3, 13, 15, 7, 11],\n  [4, 14, 5, 19, 18],\n  [4, 18, 6, 10, 8],\n  [5, 9, 11, 7, 19],\n  [6, 18, 19, 7, 15],\n];\n\nconst FACES: THREE.Vector3Tuple[][] = FACE_IDX.map(\n  idx => idx.map(i => ALL_VERTS[i]),\n);\n\nconst NUM_FACES = 12;\n\nfunction computeNormal(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple, c: THREE.Vector3Tuple): THREE.Vector3 {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const vc = new THREE.Vector3(...c);\n  return vb.sub(va).cross(vc.sub(new THREE.Vector3(...a))).normalize();\n}\n\nconst NORMALS = FACES.map(f => computeNormal(f[0], f[1], f[2]));\n\nconst CENTROIDS = FACES.map(verts => {\n  const x = verts.reduce((s, v) => s + v[0], 0) / 5;\n  const y = verts.reduce((s, v) => s + v[1], 0) / 5;\n  const z = verts.reduce((s, v) => s + v[2], 0) / 5;\n  return new THREE.Vector3(x, y, z);\n});\n\n/* ── Face values: opposite faces sum to 13 ── */\nconst FACE_VALUES = (() => {\n  const vals = new Array(NUM_FACES).fill(0);\n  const paired = new Set<number>();\n  let next = 1;\n  for (let i = 0; i < NUM_FACES; i++) {\n    if (paired.has(i)) continue;\n    let bestJ = -1, bestDot = Infinity;\n    for (let j = i + 1; j < NUM_FACES; j++) {\n      if (paired.has(j)) continue;\n      const dot = CENTROIDS[i].dot(CENTROIDS[j]);\n      if (dot < bestDot) { bestDot = dot; bestJ = j; }\n    }\n    vals[i] = next;\n    vals[bestJ] = 13 - next;\n    paired.add(i);\n    paired.add(bestJ);\n    next++;\n  }\n  return vals;\n})();\n\n/* ── 30 edges ── */\nconst EDGE_PAIRS: [THREE.Vector3Tuple, THREE.Vector3Tuple][] = (() => {\n  const set = new Set<string>();\n  const pairs: [THREE.Vector3Tuple, THREE.Vector3Tuple][] = [];\n  FACE_IDX.forEach(idx => {\n    for (let i = 0; i < 5; i++) {\n      const a = idx[i], b = idx[(i + 1) % 5];\n      const key = `${Math.min(a, b)}-${Math.max(a, b)}`;\n      if (!set.has(key)) {\n        set.add(key);\n        pairs.push([ALL_VERTS[a], ALL_VERTS[b]]);\n      }\n    }\n  });\n  return pairs;\n})();\n\n/* ── Pentagon UV coordinates ── */\nconst PENT_R = 0.45;\nconst PENT_UVS: [number, number][] = Array.from({ length: 5 }, (_, i) => {\n  const angle = -Math.PI / 2 + (2 * Math.PI * i) / 5;\n  return [0.5 + PENT_R * Math.cos(angle), 0.5 + PENT_R * Math.sin(angle)];\n});\nconst CENTER_UV: [number, number] = [0.5, 0.5];\n\n/* ── Target quaternions ── */\nconst TARGET_QUATS: Record<number, THREE.Quaternion> = {};\nFACES.forEach((verts, fi) => {\n  const normal = NORMALS[fi];\n  const c = CENTROIDS[fi];\n  const up = new THREE.Vector3(\n    verts[0][0] - c.x, verts[0][1] - c.y, verts[0][2] - c.z,\n  ).normalize();\n  const right = new THREE.Vector3().crossVectors(up, normal).normalize();\n  const m = new THREE.Matrix4().makeBasis(right, up, normal).transpose();\n  TARGET_QUATS[FACE_VALUES[fi]] = new THREE.Quaternion().setFromRotationMatrix(m);\n});\n\nconst EDGE_RADIUS = 0.03;\nconst SPIN_DURATION = 1.5;\nconst SETTLE_DURATION = 0.3;\nconst FLASH_DURATION = SETTLE_DURATION;\nconst camDir = new THREE.Vector3(0, 0, 1);\n\nconst MIN_Y = Math.min(...ALL_VERTS.map(v => v[1]));\nconst MAX_Y = Math.max(...ALL_VERTS.map(v => v[1]));\n\n/* ── Color helpers ── */\n\nfunction parseColor(color: string): [number, number, number] {\n  const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n  if (rgbMatch) return [+rgbMatch[1], +rgbMatch[2], +rgbMatch[3]];\n  const hex = color.replace('#', '');\n  const n = parseInt(hex.length === 3 ? hex.split('').map(c => c + c).join('') : hex, 16);\n  return [(n >> 16) & 255, (n >> 8) & 255, n & 255];\n}\n\nfunction luminance(color: string): number {\n  const [r, g, b] = parseColor(color).map(c => {\n    const s = c / 255;\n    return s <= 0.03928 ? s / 12.92 : Math.pow((s + 0.055) / 1.055, 2.4);\n  });\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\n\nfunction contrastText(bg: string): string {\n  const lum = luminance(bg);\n  if (lum > 0.85) return bg;\n  return lum > 0.4 ? '#000000' : '#ffffff';\n}\n\nfunction darken(color: string, ratio: number): string {\n  const [r, g, b] = parseColor(color);\n  const m = (c: number) => Math.round(c * (1 - ratio));\n  return `rgb(${m(r)},${m(g)},${m(b)})`;\n}\n\n/* ── Geometry / texture builders ── */\n\nfunction makeFaceGeo(verts: THREE.Vector3Tuple[], normal: THREE.Vector3): THREE.BufferGeometry {\n  const geo = new THREE.BufferGeometry();\n  const cx = verts.reduce((s, v) => s + v[0], 0) / 5;\n  const cy = verts.reduce((s, v) => s + v[1], 0) / 5;\n  const cz = verts.reduce((s, v) => s + v[2], 0) / 5;\n\n  // Fan from centroid: 5 triangles\n  const positions: number[] = [];\n  const norms: number[] = [];\n  const uvs: number[] = [];\n\n  for (let i = 0; i < 5; i++) {\n    const j = (i + 1) % 5;\n    positions.push(cx, cy, cz, ...verts[i], ...verts[j]);\n    norms.push(\n      normal.x, normal.y, normal.z,\n      normal.x, normal.y, normal.z,\n      normal.x, normal.y, normal.z,\n    );\n    uvs.push(...CENTER_UV, ...PENT_UVS[i], ...PENT_UVS[j]);\n  }\n\n  geo.setAttribute('position', new THREE.BufferAttribute(new Float32Array(positions), 3));\n  geo.setAttribute('normal', new THREE.BufferAttribute(new Float32Array(norms), 3));\n  geo.setAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvs), 2));\n  return geo;\n}\n\nfunction makeFaceTexture(label: string, primary: string): THREE.CanvasTexture {\n  const size = 512;\n  const canvas = document.createElement('canvas');\n  canvas.width = size;\n  canvas.height = size;\n  const ctx = canvas.getContext('2d')!;\n\n  ctx.fillStyle = primary;\n  ctx.fillRect(0, 0, size, size);\n\n  ctx.save();\n  ctx.translate(size / 2, size / 2);\n  ctx.scale(-1, -1);\n  const textColor = contrastText(primary);\n  ctx.fillStyle = textColor;\n  ctx.font = `bold ${label.length > 1 ? 100 : 130}px sans-serif`;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(label, 0, 0);\n  ctx.restore();\n\n  const tex = new THREE.CanvasTexture(canvas);\n  tex.needsUpdate = true;\n  return tex;\n}\n\nfunction makeEdgeCylinder(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple, radius: number, baseColor: THREE.Color): THREE.CylinderGeometry {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const height = va.distanceTo(vb);\n  const geo = new THREE.CylinderGeometry(radius, radius, height, 8, 1);\n\n  const tA = (a[1] - MIN_Y) / (MAX_Y - MIN_Y);\n  const tB = (b[1] - MIN_Y) / (MAX_Y - MIN_Y);\n  const positions = geo.attributes.position;\n  const colors = new Float32Array(positions.count * 3);\n\n  for (let i = 0; i < positions.count; i++) {\n    const y = positions.getY(i);\n    const along = (y + height / 2) / height;\n    const tint = 0.5 + 0.45 * (tA + (tB - tA) * along);\n    colors[i * 3] = baseColor.r * tint;\n    colors[i * 3 + 1] = baseColor.g * tint;\n    colors[i * 3 + 2] = baseColor.b * tint;\n  }\n\n  geo.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n  return geo;\n}\n\nfunction edgeTransform(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple): { pos: THREE.Vector3; quat: THREE.Quaternion } {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const mid = va.clone().add(vb).multiplyScalar(0.5);\n  const dir = vb.clone().sub(va).normalize();\n  const quat = new THREE.Quaternion().setFromUnitVectors(new THREE.Vector3(0, 1, 0), dir);\n  return { pos: mid, quat };\n}\n\n/* ── Component ── */\n\nexport default function DodecahedronDie({ rollTrigger, onResult, primary }: Props) {\n  const groupRef = useRef<THREE.Group>(null);\n  const prevTrigger = useRef(rollTrigger);\n  const hasReported = useRef(false);\n\n  const spinning = useRef(false);\n  const spinStart = useRef(0);\n  const spinAxis = useRef(new THREE.Vector3(1, 1, 0).normalize());\n  const spinSpeed = useRef(8);\n  const targetResult = useRef(0);\n  const targetQuat = useRef(new THREE.Quaternion());\n  const settleStartQuat = useRef(new THREE.Quaternion());\n  const settleStart = useRef(0);\n\n  const flashing = useRef(false);\n  const flashStart = useRef(0);\n\n  const edgeBaseColor = useMemo(() => new THREE.Color(darken(primary, 0.1)), [primary]);\n\n  const faceMeshRefs = useRef<(THREE.Mesh | null)[]>(new Array(NUM_FACES).fill(null));\n  const worldNormal = useRef(new THREE.Vector3());\n\n  const faceData = useMemo(() =>\n    FACES.map((verts, fi) => ({\n      geometry: makeFaceGeo(verts, NORMALS[fi]),\n      texture: makeFaceTexture(String(FACE_VALUES[fi]), primary),\n    })),\n    [primary],\n  );\n\n  const edges = useMemo(() =>\n    EDGE_PAIRS.map(([a, b]) => ({\n      geo: makeEdgeCylinder(a, b, EDGE_RADIUS, edgeBaseColor),\n      ...edgeTransform(a, b),\n    })),\n    [edgeBaseColor],\n  );\n\n  const sphereGeo = useMemo(() => new THREE.SphereGeometry(EDGE_RADIUS, 8, 8), []);\n\n  // Roll trigger\n  useEffect(() => {\n    if (rollTrigger === 0) return;\n    if (rollTrigger === prevTrigger.current) return;\n    prevTrigger.current = rollTrigger;\n\n    hasReported.current = false;\n    spinning.current = true;\n    spinStart.current = 0;\n\n    const sx = Math.random() < 0.5 ? -1 : 1;\n    const sy = Math.random() < 0.5 ? -1 : 1;\n    const sz = Math.random() < 0.5 ? -1 : 1;\n\n    spinAxis.current\n      .set(\n        sx * (0.5 + Math.random() * 0.5),\n        sy * (0.5 + Math.random() * 0.5),\n        sz * (0.5 + Math.random() * 0.5),\n      )\n      .normalize();\n\n    spinSpeed.current = 14 + Math.random() * 4;\n\n    targetResult.current = Math.floor(Math.random() * NUM_FACES) + 1;\n    targetQuat.current.copy(TARGET_QUATS[targetResult.current]);\n  }, [rollTrigger]);\n\n  // Tint faces based on camera-facing direction + flash\n  const tintFaces = () => {\n    if (!groupRef.current) return;\n\n    let flash = 0;\n    if (flashing.current && flashStart.current > 0) {\n      const flashElapsed = performance.now() / 1000 - flashStart.current;\n      const ft = Math.min(flashElapsed / FLASH_DURATION, 1);\n      flash = 1 - ft;\n      if (ft >= 1) flashing.current = false;\n\n      const scalePunch = 1 + 0.15 * Math.sin(ft * Math.PI);\n      groupRef.current.scale.setScalar(scalePunch);\n    }\n\n    for (let i = 0; i < NUM_FACES; i++) {\n      const mesh = faceMeshRefs.current[i];\n      if (!mesh) continue;\n      worldNormal.current.copy(NORMALS[i]).applyQuaternion(groupRef.current.quaternion);\n      const dot = worldNormal.current.dot(camDir);\n      let brightness = 0.55 + 0.45 * Math.max(0, dot);\n      if (flash > 0) {\n        brightness = brightness + (2.0 - brightness) * flash * 0.6;\n      }\n      (mesh.material as THREE.MeshBasicMaterial).color.setScalar(brightness);\n    }\n  };\n\n  useFrame((_, delta) => {\n    if (!groupRef.current) return;\n\n    tintFaces();\n\n    if (!spinning.current) return;\n\n    if (spinStart.current === 0) {\n      spinStart.current = performance.now() / 1000;\n      settleStart.current = 0;\n    }\n\n    const elapsed = performance.now() / 1000 - spinStart.current;\n\n    if (elapsed < SPIN_DURATION) {\n      const progress = elapsed / SPIN_DURATION;\n      const decay = Math.pow(1 - progress, 1.5);\n      groupRef.current.rotateOnAxis(spinAxis.current, spinSpeed.current * decay * delta);\n    } else {\n      if (settleStart.current === 0) {\n        settleStart.current = performance.now() / 1000;\n        settleStartQuat.current.copy(groupRef.current.quaternion);\n      }\n\n      const settleElapsed = performance.now() / 1000 - settleStart.current;\n      const t = Math.min(settleElapsed / SETTLE_DURATION, 1);\n      const eased = 1 - Math.pow(1 - t, 3);\n\n      groupRef.current.quaternion.copy(settleStartQuat.current).slerp(targetQuat.current, eased);\n\n      if (t >= 1) {\n        spinning.current = false;\n        groupRef.current.quaternion.copy(targetQuat.current);\n\n        if (!hasReported.current) {\n          hasReported.current = true;\n          flashing.current = true;\n          flashStart.current = performance.now() / 1000;\n          onResult(targetResult.current);\n        }\n      }\n    }\n  });\n\n  return (\n    <group ref={groupRef} position={[0, -0.15, 0]}>\n      {faceData.map((face, i) => (\n        <mesh key={i} ref={el => { faceMeshRefs.current[i] = el; }} geometry={face.geometry}>\n          <meshBasicMaterial map={face.texture} />\n        </mesh>\n      ))}\n      {edges.map((edge, i) => (\n        <mesh key={`edge-${i}`} geometry={edge.geo} position={edge.pos} quaternion={edge.quat}>\n          <meshBasicMaterial vertexColors />\n        </mesh>\n      ))}\n      {ALL_VERTS.map((v, i) => (\n        <mesh key={`corner-${i}`} geometry={sphereGeo} position={v}>\n          <meshBasicMaterial color={edgeBaseColor} />\n        </mesh>\n      ))}\n    </group>\n  );\n}\n","import { Canvas } from '@react-three/fiber';\nimport DodecahedronDie from './DodecahedronDie';\n\ninterface Props {\n  rollTrigger: number;\n  onResult: (result: number) => void;\n  onClick: () => void;\n  primary: string;\n  primaryDark: string;\n}\n\nexport default function D12Scene({ rollTrigger, onResult, onClick, primary, primaryDark }: Props) {\n  return (\n    <Canvas\n      flat\n      camera={{ position: [0, 0, 5.5], fov: 40 }}\n      gl={{ alpha: true, antialias: true }}\n      style={{ background: 'transparent', cursor: 'pointer' }}\n      onClick={onClick}\n    >\n      <ambientLight intensity={0.55} color=\"#ffffff\" />\n      <directionalLight position={[0, 0, 5]} intensity={0.45} color=\"#ffffff\" />\n      <directionalLight position={[3, 5, 5]} intensity={0.15} color=\"#ffffff\" />\n      <DodecahedronDie\n        rollTrigger={rollTrigger}\n        onResult={onResult}\n        primary={primary}\n        primaryDark={primaryDark}\n      />\n    </Canvas>\n  );\n}\n"],"names":["PHI","Math","sqrt","IPHI","ALL_VERTS","map","v","FACE_IDX","FACES","idx","i","NUM_FACES","NORMALS","f","a","b","c","va","THREE","vb","vc","sub","cross","normalize","computeNormal","CENTROIDS","verts","x","reduce","s","y","z","FACE_VALUES","vals","Array","fill","paired","Set","next","has","bestJ","bestDot","Infinity","j","dot","add","EDGE_PAIRS","set","pairs","forEach","key","concat","min","max","push","PENT_UVS","from","length","_","angle","PI","cos","sin","CENTER_UV","TARGET_QUATS","fi","normal","up","right","crossVectors","m","makeBasis","transpose","setFromRotationMatrix","camDir","MIN_Y","MAX_Y","parseColor","color","rgbMatch","match","hex","replace","n","parseInt","split","join","contrastText","bg","lum","r","g","pow","luminance","makeFaceGeo","geo","cx","cy","cz","positions","norms","uvs","setAttribute","Float32Array","makeFaceTexture","label","primary","size","canvas","document","createElement","width","height","ctx","getContext","fillStyle","fillRect","save","translate","scale","textColor","font","textAlign","textBaseline","fillText","restore","tex","needsUpdate","makeEdgeCylinder","radius","baseColor","distanceTo","tA","tB","attributes","position","colors","count","tint","getY","DodecahedronDie","_ref","rollTrigger","onResult","groupRef","useRef","prevTrigger","hasReported","spinning","spinStart","spinAxis","spinSpeed","targetResult","targetQuat","settleStartQuat","settleStart","flashing","flashStart","edgeBaseColor","useMemo","ratio","round","darken","faceMeshRefs","worldNormal","faceData","geometry","texture","String","edges","_ref2","_objectSpread","mid","clone","multiplyScalar","dir","pos","quat","setFromUnitVectors","edgeTransform","sphereGeo","useEffect","current","sx","random","sy","sz","floor","copy","useFrame","delta","tintFaces","flash","flashElapsed","performance","now","ft","scalePunch","setScalar","mesh","applyQuaternion","quaternion","brightness","material","elapsed","progress","decay","rotateOnAxis","settleElapsed","t","eased","slerp","_jsxs","ref","children","face","_jsx","el","edge","vertexColors","D12Scene","onClick","primaryDark","Canvas","flat","camera","fov","gl","alpha","antialias","style","background","cursor","intensity"],"sourceRoot":""}