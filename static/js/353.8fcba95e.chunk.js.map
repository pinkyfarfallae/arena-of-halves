{"version":3,"file":"static/js/353.8fcba95e.chunk.js","mappings":"mMAgBA,MAAMA,EAAI,KAGJC,EAAW,CAAC,GAAO,GAAO,GAAG,IAAQ,IACrCC,EAASD,EAASE,IAAIC,GAAKJ,EAAII,GAC/BC,EAASJ,EAASE,IAAIC,GAAKJ,EAAIM,KAAKC,KAAK,EAAIH,EAAIA,IAGjDI,EAAc,CAAC,EAAGF,KAAKG,GAAK,GAAI,EAAGH,KAAKG,GAAK,GAAI,GACjDC,EAAQ,EAAIJ,KAAKG,GAAM,GAEvBE,EAA0B,CAAC,EAAGX,EAAG,GACjCY,EAA0B,CAAC,GAAIZ,EAAG,GAElCa,EAAgC,GACtC,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAA6B,GACnC,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAID,EAAIN,EAAOF,EAAYM,GACjCC,EAAKG,KAAK,CAACb,EAAOS,GAAKR,KAAKa,IAAIF,GAAIf,EAAOY,GAAIT,EAAOS,GAAKR,KAAKc,IAAIH,IACtE,CACAJ,EAAMK,KAAKH,EACb,CAGA,MAAMM,EAAkC,CAACV,KAAQE,EAAMS,OAAQV,GAE/D,SAASW,EAAGR,EAAcC,GACxB,OAAO,EAAW,GAAPD,GAAcC,EAAI,GAAM,IAAM,EAC3C,CAEA,MAAMQ,EAAY,IACZC,EAAuB,GAG7B,IAAK,IAAIT,EAAI,EAAGA,EAAI,GAAIA,IACtBS,EAASP,KAAK,CAAC,EAAGK,EAAG,EAAGP,EAAI,GAAIO,EAAG,EAAGP,KAIxC,IAAK,IAAIF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMY,EAAQlB,EAAYM,EAAI,GAAKN,EAAYM,GAAK,EAAI,EACxD,IAAK,IAAIE,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMW,EAAIX,EAAIU,EACdD,EAASP,KAAK,CAACK,EAAGT,EAAGE,GAAIO,EAAGT,EAAI,EAAGa,GAAIJ,EAAGT,EAAGE,EAAI,KACjDS,EAASP,KAAK,CAACK,EAAGT,EAAI,EAAGa,GAAIJ,EAAGT,EAAI,EAAGa,EAAI,GAAIJ,EAAGT,EAAGE,EAAI,IAC3D,CACF,CAGA,IAAK,IAAIA,EAAI,EAAGA,EAAI,GAAIA,IACtBS,EAASP,KAAK,CAAC,GAAIK,EAAG,EAAGP,GAAIO,EAAG,EAAGP,EAAI,KAGzC,MAAMY,EAAgCH,EAAStB,IAC7C0B,GAAOA,EAAI1B,IAAIa,GAAKK,EAAUL,KAUhC,MAAMc,EAAUF,EAAMzB,IAAI4B,GAP1B,SAAuBd,EAAuBe,EAAuBC,GACnE,MAAMC,EAAK,IAAIC,EAAAA,WAAiBlB,GAC1BmB,EAAK,IAAID,EAAAA,WAAiBH,GAC1BK,EAAK,IAAIF,EAAAA,WAAiBF,GAChC,OAAOG,EAAGE,IAAIJ,GAAIK,MAAMF,EAAGC,IAAI,IAAIH,EAAAA,WAAiBlB,KAAKuB,WAC3D,CAE+BC,CAAcV,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAErDW,EAAYd,EAAMzB,IAAIwC,GAAS,IAAIR,EAAAA,SACtCQ,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKA,EAAM,GAAG,IAAM,GAC3CA,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKA,EAAM,GAAG,IAAM,GAC3CA,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKA,EAAM,GAAG,IAAM,IAK5Cf,EAAMgB,QAAQ,CAACD,EAAOE,KACpB,GAAIH,EAAUG,GAAIC,IAAIhB,EAAQe,IAAO,EAAG,CACtC,MAAME,EAAMJ,EAAM,GAClBA,EAAM,GAAKA,EAAM,GACjBA,EAAM,GAAKI,EACX,MAAMC,EAASvB,EAASoB,GAAI,GAC5BpB,EAASoB,GAAI,GAAKpB,EAASoB,GAAI,GAC/BpB,EAASoB,GAAI,GAAKG,EAClBlB,EAAQe,GAAII,QACd,IAKJ,MAAMC,EAAcC,MAAMC,KAAK,CAAEC,OAAQ7B,GAAa,CAAC8B,EAAGtC,IAAMA,EAAI,GAG9DuC,EAAyD,MAC7D,MAAMC,EAAM,IAAIC,IACVC,EAAoD,GAW1D,OAVAjC,EAASmB,QAAQf,IACf,IAAK,IAAIb,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAAIY,EAAIb,GAAIgB,EAAIH,GAAKb,EAAI,GAAK,GAC9B2C,EAAG,GAAAC,OAAMtD,KAAKuD,IAAI5C,EAAGe,GAAE,KAAA4B,OAAItD,KAAKwD,IAAI7C,EAAGe,IACxCwB,EAAIO,IAAIJ,KACXH,EAAIQ,IAAIL,GACRD,EAAMxC,KAAK,CAACG,EAAUJ,GAAII,EAAUW,KAExC,IAEK0B,CACR,EAd8D,GAiBzDO,EAA2BrC,EAAMzB,IAAI,CAACmD,EAAGT,KAC7C,MAAMqB,EAASpC,EAAQe,GACjBsB,EAAK,IAAIhC,EAAAA,QAAc,EAAG,EAAG,GAAGG,IAAI4B,EAAOE,QAAQC,eAAeH,EAAOI,IAE/E,OADIH,EAAGI,WAAa,MAAOJ,EAAGX,IAAI,EAAG,EAAG,GACjCW,EAAG3B,cAINgC,EAAiD,CAAC,EACxD5C,EAAMgB,QAAQ,CAACU,EAAGT,KAChB,MAAMqB,EAASpC,EAAQe,GACjBsB,EAAKF,EAAQpB,GACb4B,GAAQ,IAAItC,EAAAA,SAAgBuC,aAAaP,EAAID,GAAQ1B,YACrDmC,GAAI,IAAIxC,EAAAA,SAAgByC,UAAUH,EAAON,EAAID,GAAQW,YAC3DL,EAAatB,EAAYL,KAAO,IAAIV,EAAAA,YAAmB2C,sBAAsBH,KAG/E,MAIMI,EAAS,IAAI5C,EAAAA,QAAc,EAAG,EAAG,GAEjC6C,EAAQ1E,KAAKuD,OAAOxC,EAAUlB,IAAI8E,GAAKA,EAAE,KACzCC,EAAQ5E,KAAKwD,OAAOzC,EAAUlB,IAAI8E,GAAKA,EAAE,KAI/C,SAASE,EAAWC,GAClB,MAAMC,EAAWD,EAAME,MAAM,kCAC7B,GAAID,EAAU,MAAO,EAAEA,EAAS,IAAKA,EAAS,IAAKA,EAAS,IAC5D,MAAME,EAAMH,EAAMI,QAAQ,IAAK,IACzBC,EAAIC,SAAwB,IAAfH,EAAIlC,OAAekC,EAAII,MAAM,IAAIxF,IAAI8B,GAAKA,EAAIA,GAAG2D,KAAK,IAAML,EAAK,IACpF,MAAO,CAAEE,GAAK,GAAM,IAAMA,GAAK,EAAK,IAAS,IAAJA,EAC3C,CAUA,SAASI,EAAaC,GACpB,MAAMC,EATR,SAAmBX,GACjB,MAAOtE,EAAGkF,EAAGhE,GAAKmD,EAAWC,GAAOjF,IAAI8B,IACtC,MAAM7B,EAAI6B,EAAI,IACd,OAAO7B,GAAK,OAAUA,EAAI,MAAQE,KAAK2F,KAAK7F,EAAI,MAAS,MAAO,OAElE,MAAO,MAASU,EAAI,MAASkF,EAAI,MAAShE,CAC5C,CAGckE,CAAUJ,GACtB,OAAIC,EAAM,IAAaD,EAChBC,EAAM,GAAM,UAAY,SACjC,CAUA,SAASI,EACPxD,EAA6BuB,EAC7BkC,EAAyBC,GAEzB,MAAMC,EAAM,IAAInE,EAAAA,eACVoE,EAAM,IAAIC,aAAa,IAAI7D,EAAM,MAAOA,EAAM,MAAOA,EAAM,KAC3D8D,EAAQ,IAAID,aAAa,CAC7BtC,EAAOwC,EAAGxC,EAAOI,EAAGJ,EAAOyC,EAC3BzC,EAAOwC,EAAGxC,EAAOI,EAAGJ,EAAOyC,EAC3BzC,EAAOwC,EAAGxC,EAAOI,EAAGJ,EAAOyC,IAIvBC,GAAa,IAAIzE,EAAAA,SAAgBuC,aAAa2B,EAASnC,GAAQ1B,YAC/DqE,EAA2BlE,EAAMxC,IAAI8E,IACzC,MAAM6B,EAAI,IAAI3E,EAAAA,QAAc8C,EAAE,GAAKmB,EAASM,EAAGzB,EAAE,GAAKmB,EAAS9B,EAAGW,EAAE,GAAKmB,EAASO,GAClF,MAAO,CAACG,EAAEhE,IAAI8D,GAAaE,EAAEhE,IAAIuD,MAG7BjG,EAAI,KADKE,KAAKwD,OAAO+C,EAAKE,QAAQC,GAAK,CAAC1G,KAAK2G,IAAID,EAAE,IAAK1G,KAAK2G,IAAID,EAAE,QAAU,GAE7EE,EAAM,IAAIV,aAAa,GAC7B,IAAK,IAAIxF,EAAI,EAAGA,EAAI,EAAGA,IACrBkG,EAAQ,EAAJlG,GAAS,GAAM6F,EAAK7F,GAAG,GAAKZ,EAChC8G,EAAQ,EAAJlG,EAAQ,GAAK,GAAM6F,EAAK7F,GAAG,GAAKZ,EAMtC,OAHAkG,EAAIa,aAAa,WAAY,IAAIhF,EAAAA,gBAAsBoE,EAAK,IAC5DD,EAAIa,aAAa,SAAU,IAAIhF,EAAAA,gBAAsBsE,EAAO,IAC5DH,EAAIa,aAAa,KAAM,IAAIhF,EAAAA,gBAAsB+E,EAAK,IAC/CZ,CACT,CAEA,SAASc,EAAgBC,EAAeC,GACtC,MAAMC,EAAO,IACPC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQJ,EACfC,EAAOI,OAASL,EAChB,MAAMM,EAAML,EAAOM,WAAW,MAE9BD,EAAIE,UAAYT,EAChBO,EAAIG,SAAS,EAAG,EAAGT,EAAMA,GAEzB,MAAMU,EAAYpC,EAAayB,GAC/BO,EAAIE,UAAYE,EAChB,MAAMC,EAAWb,EAAMhE,OAAS,EAAI,GAAKgE,EAAMhE,OAAS,EAAI,GAAK,GACjEwE,EAAIM,KAAI,QAAAvE,OAAWsE,EAAQ,iBAC3BL,EAAIO,UAAY,SAChBP,EAAIQ,aAAe,SACnBR,EAAIS,SAASjB,EAAOE,IAAUA,KAE9B,MAAMgB,EAAM,IAAIpG,EAAAA,cAAoBqF,GAEpC,OADAe,EAAIC,aAAc,EACXD,CACT,CAEA,SAASE,EAAiBxH,EAAuBe,EAAuB0G,EAAgBC,GACtF,MAAMzG,EAAK,IAAIC,EAAAA,WAAiBlB,GAC1BmB,EAAK,IAAID,EAAAA,WAAiBH,GAC1B4F,EAAS1F,EAAG0G,WAAWxG,GACvBkE,EAAM,IAAInE,EAAAA,iBAAuBuG,EAAQA,EAAQd,EAAQ,EAAG,GAE5DiB,GAAM5H,EAAE,GAAK+D,IAAUE,EAAQF,GAC/B8D,GAAM9G,EAAE,GAAKgD,IAAUE,EAAQF,GAC/B+D,EAAYzC,EAAI0C,WAAWC,SAC3BC,EAAS,IAAI1C,aAA+B,EAAlBuC,EAAUI,OAE1C,IAAK,IAAInI,EAAI,EAAGA,EAAI+H,EAAUI,MAAOnI,IAAK,CACxC,MAEMoI,EAAO,GAAM,KAAQP,GAAMC,EAAKD,KAF5BE,EAAUM,KAAKrI,GACN4G,EAAS,GAAKA,IAEjCsB,EAAW,EAAJlI,GAAS2H,EAAU7H,EAAIsI,EAC9BF,EAAW,EAAJlI,EAAQ,GAAK2H,EAAU3C,EAAIoD,EAClCF,EAAW,EAAJlI,EAAQ,GAAK2H,EAAU3G,EAAIoH,CACpC,CAGA,OADA9C,EAAIa,aAAa,QAAS,IAAIhF,EAAAA,gBAAsB+G,EAAQ,IACrD5C,CACT,CAae,SAASgD,EAAeC,GAA6C,IAA5C,YAAEC,EAAW,SAAEC,EAAQ,QAAEnC,GAAgBiC,EAC/E,MAAMG,GAAWC,EAAAA,EAAAA,QAAoB,MAC/BC,GAAcD,EAAAA,EAAAA,QAAOH,GACrBK,GAAcF,EAAAA,EAAAA,SAAO,GAErBG,GAAWH,EAAAA,EAAAA,SAAO,GAClBI,GAAYJ,EAAAA,EAAAA,QAAO,GACnBK,GAAWL,EAAAA,EAAAA,QAAO,IAAIxH,EAAAA,QAAc,EAAG,EAAG,GAAGK,aAC7CyH,GAAYN,EAAAA,EAAAA,QAAO,GACnBO,GAAeP,EAAAA,EAAAA,QAAO,GACtBQ,GAAaR,EAAAA,EAAAA,QAAO,IAAIxH,EAAAA,YACxBiI,GAAkBT,EAAAA,EAAAA,QAAO,IAAIxH,EAAAA,YAC7BkI,GAAcV,EAAAA,EAAAA,QAAO,GAErBW,GAAWX,EAAAA,EAAAA,SAAO,GAClBY,GAAaZ,EAAAA,EAAAA,QAAO,GAEpBa,GAAgBC,EAAAA,EAAAA,SAAQ,IAAM,IAAItI,EAAAA,MAnH1C,SAAgBiD,EAAesF,GAC7B,MAAO5J,EAAGkF,EAAGhE,GAAKmD,EAAWC,GACvBT,EAAK1C,GAAc3B,KAAKqK,MAAM1I,GAAK,EAAIyI,IAC7C,MAAM,OAAN9G,OAAce,EAAE7D,GAAE,KAAA8C,OAAIe,EAAEqB,GAAE,KAAApC,OAAIe,EAAE3C,GAAE,IACpC,CA+GsD4I,CAAOtD,EAAS,KAAO,CAACA,IAEtEuD,GAAelB,EAAAA,EAAAA,QAA8B,IAAIxG,MAAM3B,GAAWsJ,KAAK,OACvEC,GAAcpB,EAAAA,EAAAA,QAAO,IAAIxH,EAAAA,SAEzB6I,GAAWP,EAAAA,EAAAA,SAAQ,IACvB7I,EAAMzB,IAAI,CAACwC,EAAOE,KAAE,CAClBoI,SAAU9E,EAAYxD,EAAOb,EAAQe,GAAKH,EAAUG,GAAKoB,EAAQpB,IACjEqI,QAAS9D,EAAgB+D,OAAOjI,EAAYL,IAAMyE,MAEpD,CAACA,IAGG8D,GAAQX,EAAAA,EAAAA,SAAQ,IACpBlH,EAAWpD,IAAIkL,IAAA,IAAEpK,EAAGe,GAAEqJ,EAAA,OAAAC,EAAAA,EAAAA,GAAA,CACpBhF,IAAKmC,EAAiBxH,EAAGe,EAnKX,KAmK2BwI,IA3C/C,SAAuBvJ,EAAuBe,GAC5C,MAAME,EAAK,IAAIC,EAAAA,WAAiBlB,GAC1BmB,EAAK,IAAID,EAAAA,WAAiBH,GAC1BuJ,EAAMrJ,EAAGkC,QAAQJ,IAAI5B,GAAIiC,eAAe,IACxCmH,EAAMpJ,EAAGgC,QAAQ9B,IAAIJ,GAAIM,YAE/B,MAAO,CAAE+D,IAAKgF,EAAKE,MADN,IAAItJ,EAAAA,YAAmBuJ,mBAAmB,IAAIvJ,EAAAA,QAAc,EAAG,EAAG,GAAIqJ,GAErF,CAqCSG,CAAc1K,EAAGe,MAEtB,CAACwI,IAGGoB,GAAYnB,EAAAA,EAAAA,SAAQ,IAAM,IAAItI,EAAAA,eAzKlB,KAyKoD,EAAG,GAAI,KAG7E0J,EAAAA,EAAAA,WAAU,KACR,GAAoB,IAAhBrC,EAAmB,OACvB,GAAIA,IAAgBI,EAAYkC,QAAS,OACzClC,EAAYkC,QAAUtC,EAEtBK,EAAYiC,SAAU,EACtBhC,EAASgC,SAAU,EACnB/B,EAAU+B,QAAU,EAEpB,MAAMC,EAAKzL,KAAK0L,SAAW,IAAO,EAAI,EAChCC,EAAK3L,KAAK0L,SAAW,IAAO,EAAI,EAChCE,EAAK5L,KAAK0L,SAAW,IAAO,EAAI,EAEtChC,EAAS8B,QACNtI,IACCuI,GAAM,GAAsB,GAAhBzL,KAAK0L,UACjBC,GAAM,GAAsB,GAAhB3L,KAAK0L,UACjBE,GAAM,GAAsB,GAAhB5L,KAAK0L,WAElBxJ,YAEHyH,EAAU6B,QAAU,GAAqB,EAAhBxL,KAAK0L,SAE9B9B,EAAa4B,QAAUxL,KAAK6L,MAAM7L,KAAK0L,SAAWxK,GAAa,EAC/D2I,EAAW2B,QAAQM,KAAK5H,EAAa0F,EAAa4B,WACjD,CAACtC,IAgFJ,OA5CA6C,EAAAA,EAAAA,GAAS,CAAC/I,EAAGgJ,KACX,IAAK5C,EAASoC,QAAS,OAIvB,GAtCgBS,MAChB,IAAK7C,EAASoC,QAAS,OAEvB,IAAIU,EAAQ,EACZ,GAAIlC,EAASwB,SAAWvB,EAAWuB,QAAU,EAAG,CAC9C,MAAMW,EAAeC,YAAYC,MAAQ,IAAOpC,EAAWuB,QACrDc,EAAKtM,KAAKuD,IAAI4I,EA5MF,GA4MiC,GACnDD,EAAQ,EAAII,EACRA,GAAM,IAAGtC,EAASwB,SAAU,GAEhC,MAAMe,EAAa,EAAI,IAAOvM,KAAKc,IAAIwL,EAAKtM,KAAKG,IACjDiJ,EAASoC,QAAQgB,MAAMC,UAAUF,EACnC,CAEA,MAAMG,EAAUnD,EAAYiC,UAAYhC,EAASgC,QAC3CmB,EAAgBD,EAAU9C,EAAa4B,QAAU,GAAK,EAE5D,IAAK,IAAI9K,EAAI,EAAGA,EAAIQ,EAAWR,IAAK,CAClC,MAAMkM,EAAOrC,EAAaiB,QAAQ9K,GAClC,IAAKkM,EAAM,SACXnC,EAAYe,QAAQM,KAAKtK,EAAQd,IAAImM,gBAAgBzD,EAASoC,QAAQsB,YACtE,MAAMtK,EAAMiI,EAAYe,QAAQhJ,IAAIiC,GACpC,IAAIsI,EAAa,IAAO,IAAO/M,KAAKwD,IAAI,EAAGhB,GACvC0J,EAAQ,IACVa,IAA2B,EAAMA,GAAcb,EAAQ,IAErDQ,GAAWhM,IAAMiM,IACnBI,GAAc,IAEfH,EAAKI,SAAqClI,MAAM2H,UAAUM,EAC7D,GAMAd,IAEKzC,EAASgC,QAAS,OAEG,IAAtB/B,EAAU+B,UACZ/B,EAAU+B,QAAUY,YAAYC,MAAQ,IACxCtC,EAAYyB,QAAU,GAGxB,MAAMyB,EAAUb,YAAYC,MAAQ,IAAO5C,EAAU+B,QAErD,GAAIyB,EAtPc,IAsPW,CAC3B,MAAMC,EAAWD,EAvPD,IAwPVE,EAAQnN,KAAK2F,IAAI,EAAIuH,EAAU,KACrC9D,EAASoC,QAAQ4B,aAAa1D,EAAS8B,QAAS7B,EAAU6B,QAAU2B,EAAQnB,EAC9E,KAAO,CACuB,IAAxBjC,EAAYyB,UACdzB,EAAYyB,QAAUY,YAAYC,MAAQ,IAC1CvC,EAAgB0B,QAAQM,KAAK1C,EAASoC,QAAQsB,aAGhD,MAAMO,EAAgBjB,YAAYC,MAAQ,IAAOtC,EAAYyB,QACvD8B,EAAItN,KAAKuD,IAAI8J,EAhQD,GAgQkC,GAC9CE,EAAQ,EAAIvN,KAAK2F,IAAI,EAAI2H,EAAG,GAElClE,EAASoC,QAAQsB,WAAWhB,KAAKhC,EAAgB0B,SAASgC,MAAM3D,EAAW2B,QAAS+B,GAEhFD,GAAK,IACP9D,EAASgC,SAAU,EACnBpC,EAASoC,QAAQsB,WAAWhB,KAAKjC,EAAW2B,SAEvCjC,EAAYiC,UACfjC,EAAYiC,SAAU,EACtBxB,EAASwB,SAAU,EACnBvB,EAAWuB,QAAUY,YAAYC,MAAQ,IACzClD,EAASS,EAAa4B,UAG5B,KAIAiC,EAAAA,EAAAA,MAAA,SAAOC,IAAKtE,EAAUT,SAAU,CAAC,GAAI,IAAM,GAAGgF,SAAA,CAC3CjD,EAAS7K,IAAI,CAAC+N,EAAMlN,KACnBmN,EAAAA,EAAAA,KAAA,QAAcH,IAAKI,IAAQvD,EAAaiB,QAAQ9K,GAAKoN,GAAOnD,SAAUiD,EAAKjD,SAASgD,UAClFE,EAAAA,EAAAA,KAAA,qBAAmBhO,IAAK+N,EAAKhD,WADpBlK,IAIZoK,EAAMjL,IAAI,CAACkO,EAAMrN,KAChBmN,EAAAA,EAAAA,KAAA,QAAwBlD,SAAUoD,EAAK/H,IAAK2C,SAAUoF,EAAK9H,IAAK6G,WAAYiB,EAAK5C,KAAKwC,UACpFE,EAAAA,EAAAA,KAAA,qBAAmBG,cAAY,KAAG,QAAA1K,OADjB5C,KAIpBK,EAAUlB,IAAI,CAAC8E,EAAGjE,KACjBmN,EAAAA,EAAAA,KAAA,QAA0BlD,SAAUW,EAAW3C,SAAUhE,EAAEgJ,UACzDE,EAAAA,EAAAA,KAAA,qBAAmB/I,MAAOoF,KAAiB,UAAA5G,OADxB5C,OAM7B,CC3ae,SAASuN,EAAShF,GAAmE,IAAlE,YAAEC,EAAW,SAAEC,EAAQ,QAAE+E,EAAO,QAAElH,EAAO,YAAEmH,GAAoBlF,EAC/F,OACEwE,EAAAA,EAAAA,MAACW,EAAAA,GAAM,CACLpN,MAAI,EACJqN,OAAQ,CAAE1F,SAAU,CAAC,EAAG,EAAG,KAAM2F,IAAK,IACtCC,GAAI,CAAEC,OAAO,EAAMC,WAAW,GAC9BC,MAAO,CAAEC,WAAY,cAAeC,OAAQ,WAC5CV,QAASA,EAAQP,SAAA,EAEjBE,EAAAA,EAAAA,KAAA,gBAAcgB,UAAW,IAAM/J,MAAM,aACrC+I,EAAAA,EAAAA,KAAA,oBAAkBlF,SAAU,CAAC,EAAG,EAAG,GAAIkG,UAAW,IAAM/J,MAAM,aAC9D+I,EAAAA,EAAAA,KAAA,oBAAkBlF,SAAU,CAAC,EAAG,EAAG,GAAIkG,UAAW,IAAM/J,MAAM,aAC9D+I,EAAAA,EAAAA,KAAC7E,EAAe,CACdE,YAAaA,EACbC,SAAUA,EACVnC,QAASA,EACTmH,YAAaA,MAIrB,C","sources":["components/DiceRoller/D100/ZocchihedronDie.tsx","components/DiceRoller/D100/D100Scene.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ninterface Props {\n  rollTrigger: number;\n  onResult: (result: number) => void;\n  primary: string;\n  primaryDark: string;\n}\n\n/* ── Geometry ──\n   Zocchihedron: 100 triangular faces on a sphere.\n   2 poles + 5 rings of 10 vertices = 52 vertices, 100 faces, 150 edges.\n   Equal-area latitude bands so each face covers ~the same solid angle.\n*/\nconst S = 1.55;\n\n// Equal-area bands: sin(φ) at each ring latitude\nconst RING_SIN = [4 / 5, 2 / 5, 0, -2 / 5, -4 / 5];\nconst RING_Y = RING_SIN.map(s => S * s);\nconst RING_R = RING_SIN.map(s => S * Math.sqrt(1 - s * s));\n\n// Alternate rings offset by 18° for better triangle shape\nconst RING_OFFSET = [0, Math.PI / 10, 0, Math.PI / 10, 0];\nconst STEP = (2 * Math.PI) / 10;\n\nconst TOP: THREE.Vector3Tuple = [0, S, 0];\nconst BOT: THREE.Vector3Tuple = [0, -S, 0];\n\nconst RINGS: THREE.Vector3Tuple[][] = [];\nfor (let r = 0; r < 5; r++) {\n  const ring: THREE.Vector3Tuple[] = [];\n  for (let i = 0; i < 10; i++) {\n    const a = i * STEP + RING_OFFSET[r];\n    ring.push([RING_R[r] * Math.cos(a), RING_Y[r], RING_R[r] * Math.sin(a)]);\n  }\n  RINGS.push(ring);\n}\n\n// Index layout: TOP=0, ring0=1..10, ring1=11..20, ..., ring4=41..50, BOT=51\nconst ALL_VERTS: THREE.Vector3Tuple[] = [TOP, ...RINGS.flat(), BOT];\n\nfunction ri(ring: number, i: number): number {\n  return 1 + ring * 10 + ((i % 10) + 10) % 10;\n}\n\nconst NUM_FACES = 100;\nconst FACE_IDX: number[][] = [];\n\n// Top cap: 10 triangles\nfor (let i = 0; i < 10; i++) {\n  FACE_IDX.push([0, ri(0, i + 1), ri(0, i)]);\n}\n\n// 4 bands × 20 triangles each\nfor (let r = 0; r < 4; r++) {\n  const shift = RING_OFFSET[r + 1] > RING_OFFSET[r] ? 0 : 1;\n  for (let i = 0; i < 10; i++) {\n    const j = i + shift;\n    FACE_IDX.push([ri(r, i), ri(r + 1, j), ri(r, i + 1)]);\n    FACE_IDX.push([ri(r + 1, j), ri(r + 1, j + 1), ri(r, i + 1)]);\n  }\n}\n\n// Bottom cap: 10 triangles\nfor (let i = 0; i < 10; i++) {\n  FACE_IDX.push([51, ri(4, i), ri(4, i + 1)]);\n}\n\nconst FACES: THREE.Vector3Tuple[][] = FACE_IDX.map(\n  idx => idx.map(i => ALL_VERTS[i]),\n);\n\nfunction computeNormal(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple, c: THREE.Vector3Tuple): THREE.Vector3 {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const vc = new THREE.Vector3(...c);\n  return vb.sub(va).cross(vc.sub(new THREE.Vector3(...a))).normalize();\n}\n\nconst NORMALS = FACES.map(f => computeNormal(f[0], f[1], f[2]));\n\nconst CENTROIDS = FACES.map(verts => new THREE.Vector3(\n  (verts[0][0] + verts[1][0] + verts[2][0]) / 3,\n  (verts[0][1] + verts[1][1] + verts[2][1]) / 3,\n  (verts[0][2] + verts[1][2] + verts[2][2]) / 3,\n));\n\n// Verify normals point outward; flip winding if needed\n(() => {\n  FACES.forEach((verts, fi) => {\n    if (CENTROIDS[fi].dot(NORMALS[fi]) < 0) {\n      const tmp = verts[1];\n      verts[1] = verts[2];\n      verts[2] = tmp;\n      const tmpIdx = FACE_IDX[fi][1];\n      FACE_IDX[fi][1] = FACE_IDX[fi][2];\n      FACE_IDX[fi][2] = tmpIdx;\n      NORMALS[fi].negate();\n    }\n  });\n})();\n\n/* ── Face values: 1–100 ── */\nconst FACE_VALUES = Array.from({ length: NUM_FACES }, (_, i) => i + 1);\n\n/* ── 150 edges ── */\nconst EDGE_PAIRS: [THREE.Vector3Tuple, THREE.Vector3Tuple][] = (() => {\n  const set = new Set<string>();\n  const pairs: [THREE.Vector3Tuple, THREE.Vector3Tuple][] = [];\n  FACE_IDX.forEach(idx => {\n    for (let i = 0; i < 3; i++) {\n      const a = idx[i], b = idx[(i + 1) % 3];\n      const key = `${Math.min(a, b)}-${Math.max(a, b)}`;\n      if (!set.has(key)) {\n        set.add(key);\n        pairs.push([ALL_VERTS[a], ALL_VERTS[b]]);\n      }\n    }\n  });\n  return pairs;\n})();\n\n/* ── Per-face \"up\" on face plane (projected world-Y) ── */\nconst FACE_UP: THREE.Vector3[] = FACES.map((_, fi) => {\n  const normal = NORMALS[fi];\n  const up = new THREE.Vector3(0, 1, 0).sub(normal.clone().multiplyScalar(normal.y));\n  if (up.lengthSq() < 0.001) up.set(1, 0, 0);\n  return up.normalize();\n});\n\n/* ── Target quaternions ── */\nconst TARGET_QUATS: Record<number, THREE.Quaternion> = {};\nFACES.forEach((_, fi) => {\n  const normal = NORMALS[fi];\n  const up = FACE_UP[fi];\n  const right = new THREE.Vector3().crossVectors(up, normal).normalize();\n  const m = new THREE.Matrix4().makeBasis(right, up, normal).transpose();\n  TARGET_QUATS[FACE_VALUES[fi]] = new THREE.Quaternion().setFromRotationMatrix(m);\n});\n\nconst EDGE_RADIUS = 0.012;\nconst SPIN_DURATION = 1.5;\nconst SETTLE_DURATION = 0.3;\nconst FLASH_DURATION = SETTLE_DURATION;\nconst camDir = new THREE.Vector3(0, 0, 1);\n\nconst MIN_Y = Math.min(...ALL_VERTS.map(v => v[1]));\nconst MAX_Y = Math.max(...ALL_VERTS.map(v => v[1]));\n\n/* ── Color helpers ── */\n\nfunction parseColor(color: string): [number, number, number] {\n  const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n  if (rgbMatch) return [+rgbMatch[1], +rgbMatch[2], +rgbMatch[3]];\n  const hex = color.replace('#', '');\n  const n = parseInt(hex.length === 3 ? hex.split('').map(c => c + c).join('') : hex, 16);\n  return [(n >> 16) & 255, (n >> 8) & 255, n & 255];\n}\n\nfunction luminance(color: string): number {\n  const [r, g, b] = parseColor(color).map(c => {\n    const s = c / 255;\n    return s <= 0.03928 ? s / 12.92 : Math.pow((s + 0.055) / 1.055, 2.4);\n  });\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\n\nfunction contrastText(bg: string): string {\n  const lum = luminance(bg);\n  if (lum > 0.85) return bg;\n  return lum > 0.4 ? '#000000' : '#ffffff';\n}\n\nfunction darken(color: string, ratio: number): string {\n  const [r, g, b] = parseColor(color);\n  const m = (c: number) => Math.round(c * (1 - ratio));\n  return `rgb(${m(r)},${m(g)},${m(b)})`;\n}\n\n/* ── Geometry / texture builders ── */\n\nfunction makeFaceGeo(\n  verts: THREE.Vector3Tuple[], normal: THREE.Vector3,\n  centroid: THREE.Vector3, localUp: THREE.Vector3,\n): THREE.BufferGeometry {\n  const geo = new THREE.BufferGeometry();\n  const pos = new Float32Array([...verts[0], ...verts[1], ...verts[2]]);\n  const norms = new Float32Array([\n    normal.x, normal.y, normal.z,\n    normal.x, normal.y, normal.z,\n    normal.x, normal.y, normal.z,\n  ]);\n\n  // Orient UVs so text reads upright relative to world Y\n  const localRight = new THREE.Vector3().crossVectors(localUp, normal).normalize();\n  const proj: [number, number][] = verts.map(v => {\n    const d = new THREE.Vector3(v[0] - centroid.x, v[1] - centroid.y, v[2] - centroid.z);\n    return [d.dot(localRight), d.dot(localUp)] as [number, number];\n  });\n  const maxExt = Math.max(...proj.flatMap(p => [Math.abs(p[0]), Math.abs(p[1])])) || 1;\n  const s = 0.45 / maxExt;\n  const uvs = new Float32Array(6);\n  for (let i = 0; i < 3; i++) {\n    uvs[i * 2] = 0.5 + proj[i][0] * s;\n    uvs[i * 2 + 1] = 0.5 + proj[i][1] * s;\n  }\n\n  geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));\n  geo.setAttribute('normal', new THREE.BufferAttribute(norms, 3));\n  geo.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));\n  return geo;\n}\n\nfunction makeFaceTexture(label: string, primary: string): THREE.CanvasTexture {\n  const size = 256;\n  const canvas = document.createElement('canvas');\n  canvas.width = size;\n  canvas.height = size;\n  const ctx = canvas.getContext('2d')!;\n\n  ctx.fillStyle = primary;\n  ctx.fillRect(0, 0, size, size);\n\n  const textColor = contrastText(primary);\n  ctx.fillStyle = textColor;\n  const fontSize = label.length > 2 ? 32 : label.length > 1 ? 42 : 56;\n  ctx.font = `bold ${fontSize}px sans-serif`;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(label, size / 2, size / 2);\n\n  const tex = new THREE.CanvasTexture(canvas);\n  tex.needsUpdate = true;\n  return tex;\n}\n\nfunction makeEdgeCylinder(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple, radius: number, baseColor: THREE.Color): THREE.CylinderGeometry {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const height = va.distanceTo(vb);\n  const geo = new THREE.CylinderGeometry(radius, radius, height, 4, 1);\n\n  const tA = (a[1] - MIN_Y) / (MAX_Y - MIN_Y);\n  const tB = (b[1] - MIN_Y) / (MAX_Y - MIN_Y);\n  const positions = geo.attributes.position;\n  const colors = new Float32Array(positions.count * 3);\n\n  for (let i = 0; i < positions.count; i++) {\n    const y = positions.getY(i);\n    const along = (y + height / 2) / height;\n    const tint = 0.5 + 0.45 * (tA + (tB - tA) * along);\n    colors[i * 3] = baseColor.r * tint;\n    colors[i * 3 + 1] = baseColor.g * tint;\n    colors[i * 3 + 2] = baseColor.b * tint;\n  }\n\n  geo.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n  return geo;\n}\n\nfunction edgeTransform(a: THREE.Vector3Tuple, b: THREE.Vector3Tuple): { pos: THREE.Vector3; quat: THREE.Quaternion } {\n  const va = new THREE.Vector3(...a);\n  const vb = new THREE.Vector3(...b);\n  const mid = va.clone().add(vb).multiplyScalar(0.5);\n  const dir = vb.clone().sub(va).normalize();\n  const quat = new THREE.Quaternion().setFromUnitVectors(new THREE.Vector3(0, 1, 0), dir);\n  return { pos: mid, quat };\n}\n\n/* ── Component ── */\n\nexport default function ZocchihedronDie({ rollTrigger, onResult, primary }: Props) {\n  const groupRef = useRef<THREE.Group>(null);\n  const prevTrigger = useRef(rollTrigger);\n  const hasReported = useRef(false);\n\n  const spinning = useRef(false);\n  const spinStart = useRef(0);\n  const spinAxis = useRef(new THREE.Vector3(1, 1, 0).normalize());\n  const spinSpeed = useRef(8);\n  const targetResult = useRef(0);\n  const targetQuat = useRef(new THREE.Quaternion());\n  const settleStartQuat = useRef(new THREE.Quaternion());\n  const settleStart = useRef(0);\n\n  const flashing = useRef(false);\n  const flashStart = useRef(0);\n\n  const edgeBaseColor = useMemo(() => new THREE.Color(darken(primary, 0.3)), [primary]);\n\n  const faceMeshRefs = useRef<(THREE.Mesh | null)[]>(new Array(NUM_FACES).fill(null));\n  const worldNormal = useRef(new THREE.Vector3());\n\n  const faceData = useMemo(() =>\n    FACES.map((verts, fi) => ({\n      geometry: makeFaceGeo(verts, NORMALS[fi], CENTROIDS[fi], FACE_UP[fi]),\n      texture: makeFaceTexture(String(FACE_VALUES[fi]), primary),\n    })),\n    [primary],\n  );\n\n  const edges = useMemo(() =>\n    EDGE_PAIRS.map(([a, b]) => ({\n      geo: makeEdgeCylinder(a, b, EDGE_RADIUS, edgeBaseColor),\n      ...edgeTransform(a, b),\n    })),\n    [edgeBaseColor],\n  );\n\n  const sphereGeo = useMemo(() => new THREE.SphereGeometry(EDGE_RADIUS, 4, 4), []);\n\n  // Roll trigger\n  useEffect(() => {\n    if (rollTrigger === 0) return;\n    if (rollTrigger === prevTrigger.current) return;\n    prevTrigger.current = rollTrigger;\n\n    hasReported.current = false;\n    spinning.current = true;\n    spinStart.current = 0;\n\n    const sx = Math.random() < 0.5 ? -1 : 1;\n    const sy = Math.random() < 0.5 ? -1 : 1;\n    const sz = Math.random() < 0.5 ? -1 : 1;\n\n    spinAxis.current\n      .set(\n        sx * (0.5 + Math.random() * 0.5),\n        sy * (0.5 + Math.random() * 0.5),\n        sz * (0.5 + Math.random() * 0.5),\n      )\n      .normalize();\n\n    spinSpeed.current = 14 + Math.random() * 4;\n\n    targetResult.current = Math.floor(Math.random() * NUM_FACES) + 1;\n    targetQuat.current.copy(TARGET_QUATS[targetResult.current]);\n  }, [rollTrigger]);\n\n  // Tint faces based on camera-facing direction + flash\n  const tintFaces = () => {\n    if (!groupRef.current) return;\n\n    let flash = 0;\n    if (flashing.current && flashStart.current > 0) {\n      const flashElapsed = performance.now() / 1000 - flashStart.current;\n      const ft = Math.min(flashElapsed / FLASH_DURATION, 1);\n      flash = 1 - ft;\n      if (ft >= 1) flashing.current = false;\n\n      const scalePunch = 1 + 0.15 * Math.sin(ft * Math.PI);\n      groupRef.current.scale.setScalar(scalePunch);\n    }\n\n    const settled = hasReported.current && !spinning.current;\n    const resultFaceIdx = settled ? targetResult.current - 1 : -1;\n\n    for (let i = 0; i < NUM_FACES; i++) {\n      const mesh = faceMeshRefs.current[i];\n      if (!mesh) continue;\n      worldNormal.current.copy(NORMALS[i]).applyQuaternion(groupRef.current.quaternion);\n      const dot = worldNormal.current.dot(camDir);\n      let brightness = 0.55 + 0.45 * Math.max(0, dot);\n      if (flash > 0) {\n        brightness = brightness + (2.0 - brightness) * flash * 0.6;\n      }\n      if (settled && i !== resultFaceIdx) {\n        brightness *= 0.5;\n      }\n      (mesh.material as THREE.MeshBasicMaterial).color.setScalar(brightness);\n    }\n  };\n\n  useFrame((_, delta) => {\n    if (!groupRef.current) return;\n\n    tintFaces();\n\n    if (!spinning.current) return;\n\n    if (spinStart.current === 0) {\n      spinStart.current = performance.now() / 1000;\n      settleStart.current = 0;\n    }\n\n    const elapsed = performance.now() / 1000 - spinStart.current;\n\n    if (elapsed < SPIN_DURATION) {\n      const progress = elapsed / SPIN_DURATION;\n      const decay = Math.pow(1 - progress, 1.5);\n      groupRef.current.rotateOnAxis(spinAxis.current, spinSpeed.current * decay * delta);\n    } else {\n      if (settleStart.current === 0) {\n        settleStart.current = performance.now() / 1000;\n        settleStartQuat.current.copy(groupRef.current.quaternion);\n      }\n\n      const settleElapsed = performance.now() / 1000 - settleStart.current;\n      const t = Math.min(settleElapsed / SETTLE_DURATION, 1);\n      const eased = 1 - Math.pow(1 - t, 3);\n\n      groupRef.current.quaternion.copy(settleStartQuat.current).slerp(targetQuat.current, eased);\n\n      if (t >= 1) {\n        spinning.current = false;\n        groupRef.current.quaternion.copy(targetQuat.current);\n\n        if (!hasReported.current) {\n          hasReported.current = true;\n          flashing.current = true;\n          flashStart.current = performance.now() / 1000;\n          onResult(targetResult.current);\n        }\n      }\n    }\n  });\n\n  return (\n    <group ref={groupRef} position={[0, -0.15, 0]}>\n      {faceData.map((face, i) => (\n        <mesh key={i} ref={el => { faceMeshRefs.current[i] = el; }} geometry={face.geometry}>\n          <meshBasicMaterial map={face.texture} />\n        </mesh>\n      ))}\n      {edges.map((edge, i) => (\n        <mesh key={`edge-${i}`} geometry={edge.geo} position={edge.pos} quaternion={edge.quat}>\n          <meshBasicMaterial vertexColors />\n        </mesh>\n      ))}\n      {ALL_VERTS.map((v, i) => (\n        <mesh key={`corner-${i}`} geometry={sphereGeo} position={v}>\n          <meshBasicMaterial color={edgeBaseColor} />\n        </mesh>\n      ))}\n    </group>\n  );\n}\n","import { Canvas } from '@react-three/fiber';\nimport ZocchihedronDie from './ZocchihedronDie';\n\ninterface Props {\n  rollTrigger: number;\n  onResult: (faceValue: number) => void;\n  onClick: () => void;\n  primary: string;\n  primaryDark: string;\n}\n\nexport default function D100Scene({ rollTrigger, onResult, onClick, primary, primaryDark }: Props) {\n  return (\n    <Canvas\n      flat\n      camera={{ position: [0, 0, 5.5], fov: 40 }}\n      gl={{ alpha: true, antialias: true }}\n      style={{ background: 'transparent', cursor: 'pointer' }}\n      onClick={onClick}\n    >\n      <ambientLight intensity={0.55} color=\"#ffffff\" />\n      <directionalLight position={[0, 0, 5]} intensity={0.45} color=\"#ffffff\" />\n      <directionalLight position={[3, 5, 5]} intensity={0.15} color=\"#ffffff\" />\n      <ZocchihedronDie\n        rollTrigger={rollTrigger}\n        onResult={onResult}\n        primary={primary}\n        primaryDark={primaryDark}\n      />\n    </Canvas>\n  );\n}\n"],"names":["S","RING_SIN","RING_Y","map","s","RING_R","Math","sqrt","RING_OFFSET","PI","STEP","TOP","BOT","RINGS","r","ring","i","a","push","cos","sin","ALL_VERTS","flat","ri","NUM_FACES","FACE_IDX","shift","j","FACES","idx","NORMALS","f","b","c","va","THREE","vb","vc","sub","cross","normalize","computeNormal","CENTROIDS","verts","forEach","fi","dot","tmp","tmpIdx","negate","FACE_VALUES","Array","from","length","_","EDGE_PAIRS","set","Set","pairs","key","concat","min","max","has","add","FACE_UP","normal","up","clone","multiplyScalar","y","lengthSq","TARGET_QUATS","right","crossVectors","m","makeBasis","transpose","setFromRotationMatrix","camDir","MIN_Y","v","MAX_Y","parseColor","color","rgbMatch","match","hex","replace","n","parseInt","split","join","contrastText","bg","lum","g","pow","luminance","makeFaceGeo","centroid","localUp","geo","pos","Float32Array","norms","x","z","localRight","proj","d","flatMap","p","abs","uvs","setAttribute","makeFaceTexture","label","primary","size","canvas","document","createElement","width","height","ctx","getContext","fillStyle","fillRect","textColor","fontSize","font","textAlign","textBaseline","fillText","tex","needsUpdate","makeEdgeCylinder","radius","baseColor","distanceTo","tA","tB","positions","attributes","position","colors","count","tint","getY","ZocchihedronDie","_ref","rollTrigger","onResult","groupRef","useRef","prevTrigger","hasReported","spinning","spinStart","spinAxis","spinSpeed","targetResult","targetQuat","settleStartQuat","settleStart","flashing","flashStart","edgeBaseColor","useMemo","ratio","round","darken","faceMeshRefs","fill","worldNormal","faceData","geometry","texture","String","edges","_ref2","_objectSpread","mid","dir","quat","setFromUnitVectors","edgeTransform","sphereGeo","useEffect","current","sx","random","sy","sz","floor","copy","useFrame","delta","tintFaces","flash","flashElapsed","performance","now","ft","scalePunch","scale","setScalar","settled","resultFaceIdx","mesh","applyQuaternion","quaternion","brightness","material","elapsed","progress","decay","rotateOnAxis","settleElapsed","t","eased","slerp","_jsxs","ref","children","face","_jsx","el","edge","vertexColors","D100Scene","onClick","primaryDark","Canvas","camera","fov","gl","alpha","antialias","style","background","cursor","intensity"],"sourceRoot":""}